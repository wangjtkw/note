# 计算机网络

## 一、计算机网络概述

### 什么是Internet？

通信系统模型：

![通信系统模型](C:\Users\TKW\Desktop\note\计网_pic\通信系统模型.png)

信源：发生和产生信息的地方

信宿：信息要到达的地方

由发送设备将信息发送至信道上，由接收设备接收信息，再信道上可能受到噪声的干扰。

计算机网络就是互连的、自治的计算机集合。

自治：无主从关系

互连：互联互通（通信链路）

通过交换网络互连主机，交换节点为路由器或交换机

什么是Internet？

- 全球最大的互联网络，ISP（Internet Service Provider）网络互联的“网络之网络”；
- 数以百万计的互连的计算机设备集合：主机（hosts）=端系统（end systems）运行各种网络应用
- 通信链路：光纤，铜缆，无线电，卫星。。。。
- 分组交换：转发分组（数据包）：路由器（routers）和交换机（switches）

Internet为网络应用提供应用编程接口，以支持应用程序“连接”Internet，发送/接收数据。

### 什么是网络协议？

协议是计算机网络有序进行的重要保障。

硬件（主机，路由器，通信链路等）是计算机网络的基础。

计算机网络中的数据交换必须遵守事先约定好的规则。

网络协议（network protocol），简称为协议，是为进行网络中的数据交换而建立的规则、标准或约定。

协议规定了通信实体之间所交换的消息的格式、意义、顺序以及针对收到消息或发生的事件所采取的“动作”(actions)

协议的三要素：语法、语义、时序

- 语法(Syntax)：数据与控制信息的结构或格式，如果是底层信息，对应的就是信号电平
- 语义(Semantics)：语义规定在传输信息的过程中，协议双方需要发出何种控制信息，这些控制信息是什么含义，需要完成何种操作以及做出何种响应。以及进行差错控制。
- 时序(Timing)：时序定义了协议双方通信所要遵循的事件顺序以及双方交换信息的速度匹配问题。

协议规范了网络中所有信息发送和接收过程。

Internet协议标准：

- RFC: Request for Comments
- IETF: 互联网工程任务组(Internet Engineering Task Force)   

### 计算机网络的结构

网络边缘：主机、网络应用

接入网络、物理介质：有线或无线通信链路

网络核心（核心网络）：互联的路由器（或分组转发设备）

#### 网络边缘：

由主机或端系统构成，位于“网络边缘”，这些网络边缘都能运行网络应用程序，如Web，email等

这些主机上运行的网络应用的通信方式主要有两类：

- 客户/服务器（client/server）应用模型：客户端发送请求，服务器端接收请求并对客户端做出响应，该种模式谁发送请求，谁就是客户端，谁接收请求，谁就是服务器，该种模式下所有的通信都是在客户端与服务器之间进行，不会出现客户与客户之间通信的情况。
- 对等（peer-peer, P2P）应用模型：通信双方之间没有特定的客户端与服务器的身份区分，在该类模式下，可以没有（或不仅仅依赖）传统意义上的专有服务器，通信是在对等的实体之间直接进行的。

#### 接入网络：

接入网络就是将网络边缘的这些主机连接到核心网络上。

接入网络：住宅（家庭）接入网络、机构接入网络（学校、企业等）、移动接入网络

用户关心的：

- 带宽（bindwidth）：数据传输速率（每秒传输多少bit/bps），其他领域的带宽是指最高频率与最低频率之差（赫兹/Hz）
- 接入方式：共享还是独享

代表性的接入网络：数字用户线路（DSL），ADSL非对称数字用户线路，电缆网络：频分多路复用：在不同频带（载波）上传输不同的频道。HFC：混合光纤同轴电缆（hybrid fiber coax）。无线接入网络：通过共享的无线接入网络连接端系统和路由器，通过基站（base station）或称为“接入点”（access point）

#### 网络核心：

互联的路由器网络，网络核心的关键功能：路由+转发

路由（routing）：确定分组从源到目的传输路径，路由算法

转发（forwarding）：将分组从路由器的输入端口交换至正确的输出端口。

网络核心解决的基本问题是：

如何实现数据从源主机通过网络核心送达目的主机？利用数据交换，

数据交换类型：

- 电路交换：最典型的电路交换网络：电话网络

电路交换的三个阶段：建立连接（呼叫/电路建立）、通信、释放连接（拆除电路）

该种方式是资源独占的。

为了使得电路交换网络共享中继线，采用了多路复用技术（Multiplexing）

- 报文交换：

- 分组交换：

### Internet的结构：

端系统通过ISP（access ISPs）连接到Internet。

接入ISP必须进一步互连，这样任意两个主机才可以互相发送分组。

构成复杂的网络互连的网络

### 多路复用技术：

多路复用（multiplexing），简称复用，是通信技术中的基本概念。

多路复用是通过将链路/网络资源（如带宽）划分为“资源片”，然后将资源片分配给路由器完成各路的“呼叫”（calls），每路呼叫就独占分配到的资源片进行通信，而这些资源片就可能被闲置（idle），（无共享）。

典型的多路复用方法：

- 频分多路复用技术（frequency division multiplexing-FDM）：就是将信道资源在频率上进行划分分成了多个频带的子信道，让每路信号只使用某个频带的子信道，因为频率相互之间是隔离开的，典型代表是电视网络。

  频分多路复用的各用户占用不同的带宽资源（请注意，这里的“带宽”是频带宽度（单位：Hz）而不是数据的发送速率）

  用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。

- 时分多路复用技术（time division multiplexing-TDM）：将时间划分为一段段等长的时分复用帧（TDM帧），每个用户在每个TDM帧中占用固定序号的时隙。

  每个用户所占用的时隙是周期性出现的（其周期就是TDM帧的长度）

  时分复用的所有用户是在不同的时间占用相同的频带宽度。

- 波分多路复用技术（wavelength division multiplexing-WDM）：

  波分复用就是光的频分复用

- 码分多路复用技术（code division multiplexing-CDM）：

  广泛应用于无线链路共享（如蜂窝网是，卫星通信等）

  每个用户分配一个唯一的m bit码片序列（chipping sequence），其中“0”用“-1”表示，“1”用“+1”表示。

  各用户使用相同频率载波，利用各自码片序列编码数据。编码公式为：

  编码信号=（原始数据）X（码片序列）；

  如发送比特（+1），则发送自己的m bit码片序列。

  如发送比特（-1），则发送该码片序列的m bit码片序列的驸反码。

  各用户码片序列相互正交（orthogonal）

### 报文交换(message switching)与分组交换(package switching)：

报文：源（应用）发送信息整体，比如：一个文件，一个图像等

分组：在报文拆出来的一系列相对较小的数据包，分组交换需要报文的拆分与重组。进行报文的拆分与重组需要产生额外的开销，另外还需要在拆分出的报文前加上额外的数据。

分组交换：统计多路复用(statistical multiplexing)。分组交换的分组序列是不确定的，按需共享链路。

报文交换与分组交换均采用存储-转发交换方式。

区别：报文交换以完整报文进行“存储-转发”；分组交换以较小的分组进行“存储-转发”。

分组交换适用于突发数据传输网络，即数据发送具有突发性，

分组交换的优点：这样可以使资源充分共享；简单、无需呼叫建立连接

分组交换的不足：由于大量用户大量发送数据，而可能产生拥塞(congestion):使得分组延迟或丢失，为解决这个问题，需要协议处理可靠数据传输和进行拥塞控制。